---
{"dg-publish":true,"permalink":"/Epidemiology_and_Health_Statistics/Principles of Biostatistics/","dgPassFrontmatter":true}
---


>[!cite]
>由于篇幅有限，且有一些知识比较基础，因此，这里只列举我认为的比较重要的知识点
## 2 Data Presentation
### 数据类型
1. nominal data：名义数据：一种用于描述分类变量的数据类型；如果名义数据只有两种取值，那么又称为二分类数据
2. ordinal data：序数数据：一种数据类型，它将数据按照一定的顺序排列，但不具备等距性质
比如说：1代表死亡、2代表重伤、3代表中度伤、4代表轻伤
3. Rank data：顺序数据
>In some situations, we have a group of observations that are first arranged from highest to lowest according to magnitude and then assigned numbers that correspond to each obser- vation's place in the sequence. [^1]

<kbd>rank data和ordinal data有什么区别？我认为可能是是否有等距性？或者说，很多个对象的ordinal data 的平均值是没有意义的，而多个对象的rank data平均值是有意义的，它可以反映平均的排名情况？</kbd>
4. discrete data：离散型数据

## 8. Sampling Distribution of the Mean

### 一些概念
statistical inference：统计推断
用样本的信息来推断总体的信息的过程
maximum likelihood estimator：最大似然估计
一种统计方法，用于根据已知的观测数据来估计未知参数的值，该方法基于最大化观测数据出现的概率，假设观测数据是独立同分布的？
standard error：标准误差（标准误）标准误差：随机变量的概率函数或概率密度函数的标准差，特别是指从具有正态分布的总体中抽取的样本的平均值的标准误差，它等于正态分布的标准差除以样本大小的平方根。

## 19. Multiple Regression

### The Model
建立多元回归模型基于以下几点假设：
1. 我们假定对于$x_1,x_2,……x_q$的测量都是精准的，y值分布服从均值为$\mu_{y|x_1,x_2,……,x_q}$标准差为$\sigma_{y|x_1,x_2,……,x_q}$的正态分布
2. y的取值的独立的
3. 方差齐性假说：即对于任意的$x_1,x_2,……x_q$取值，$\sigma_{y|x_1,x_2,……,x_q}$是不变的
4. $\mu_{y|x_1,x_2,……,x_q}$与$x_1,x_2,……x_q$之间满足等式：
$$\mu_{y|x_1,x_2,……,x_q}=\alpha+\beta_1x_1+\beta_2x_2+\cdots+\beta_qx_q$$

多元回归模型的评价
和简单线性回归模型一样，我们可以使用决定系数$R^2$以及残差图来评价模型的拟合效果。
需要注意的是，我们比较多元回归模型和简单线性回归模型的$R^2$时需要谨慎，因为只要我们往简单线性模型里面增加一个变量成为多元回归模型，那么，新模型的$R^2$一定是比旧模型大的

#### 指示变量
二分类变量也可以以分布为0和1的取值加入到多元回归模型中，此时，它们被称为指示变量

#### 交互项
什么是交互项：一个解释变量对y值的预测效果随着另一个解释变量值的变化而变化
To model a relationship of this kind, we create what is known as an *interaction term*. An interaction term is generated by multiplying together the outcomes of two variables $x_i$and $x_j$to create a third variable $x_i,x_j$

### Model Selection
准备工作：
先检查有没有共线性的存在。所谓共线性就是解释变量之间存在明显的线性关系，比如解释变量中包括了年龄和升高，这两个解释变量之间存在明显的线性关系。共线性解释变量的存在会导致参数估计的方差增大

选择最佳模型的三种策略：
1. 前进法：从最简单的，只有截距的模型开始，逐步地向模型中添加能够最好地改善模型预测效果的解释变量。直到我们到达一个点，在这个点上，剩下的变量都不能解释y中大量的额外可变性。
2. 后退法：首先把所有解释变量纳入模型。每次删除一个使$R^2$减少最少的解释变量。重复该过程，直到模型中剩余的每个变量都解释了响应中观察到的变化的重要部分。
3. 逐步回归法：将前进法和后退法结合使用。先像前进法一样，一次一个地向模型中引入变量;然而，当每一个新的解释变量被输入方程时，所有先前输入的变量都要进行检查，以确保它们保持其统计显著性。因此，在一个步骤中输入到模型中的变量可能在后面的步骤中再次被删除

## 20 Logistic Regression
适用条件：当预测值是二分类变量时，比如是否死亡。我们用某个事件发生的概率p（比如死亡率）来代替简单线性模型中的y。
由于p的取值范围为$[0,1]$，而$\alpha+\beta x$的取值会超过这一范围。所以我们把模型调整为：
$$p=\frac{e^{\alpha+\beta x}}{1+e^{\alpha+\beta x}}$$
再变形：
$$\frac{p}{1-p}=\frac{e^{\alpha+\beta x}/(1+e^{\alpha+\beta x})}{1/(1+e^{\alpha+\beta x})}=e^{\alpha+\beta x}$$
两边再取自然对数，得到我们最终的模型：
$$ln[\frac{p}{1-p}]=\alpha+\beta x$$
>[!question]有点好奇$\alpha,\beta$是怎么算出来的，因为对于一个样本来说，它的P值是固定的。所以无法通过简单线性模型那样的计算方式来获得$\alpha,\beta$的值。

### Logistic 回归模型中的指示变量
如果模型的一个解释变量$x_i$是一个二分类的变量，它对应的相关系数$\widehat{\beta_i}$有特殊的意义：$e^{\widehat{\beta_i}}$就是这个解释变量两种水平的比值比。

>For example, the relative odds of developing bronchopulmonary dysplasia for children whose mothers suffered from toxemia versus children whose mothers did not is：
$$\widehat{OR}=e^{\widehat{\beta_i}}=e^{-0.7719}=0.46$$
The odds of developing chronic lung disease are actually lower for children whose mothers experienced toxemia during pregnancy.

当模型中包括两个及以上指示变量时，模型可以起到类似于eMantel-Haenszel method的作用，我们仍然可以通过回归系数来计算比值比。

## Survival Analysis
适用条件：我们对从开始观察到出现结局这一段时间的长度感兴趣；或者说，我们想要估计一个个体在给定的时间后仍存活的概率。

生存时间的分布可用用生存方程来体现：
$$S(t)=P(T>t)$$
其中：$S(t)$表示时间t以后一个个体仍存活的概率

### 生命表法
我们更倾向于使用纵向寿命表（*longitudinal life table*），我理解的是对一群相对（全人群）较小的人进行短时间（相对全生命周期）随访

|$t\;to\;t+n$|$_nq_t$|$l_t$|$1-_nq_t$|$\widehat{S}(t)$|
|---|---|---|---|---|
其中：
$$\widehat{S}(t)=\widehat{S}(t-1)(1-_nq_t)$$

### 乘积限估计法（Product-Limit Method）
>  The product-limit method of estimating a survival function, also called the Kaplan-Meier method, is a nonparametric technique that uses the exact survival time for each individual in a sample instead of grouping the times into intervals.[^1]

[[Epidemiology_and_Health_Statistics/Gauvreau, Kimberlee_ Pagano, Marcello - Principles of biostatistics-CRC Press (2018).pdf#page=512&selection=108,30,124,34|Gauvreau, Kimberlee_ Pagano, Marcello - Principles of biostatistics-CRC Press (2018), page 512]]

时间表法使用的是时间间隔，而乘积限估计法使用的是每个个体具体的生存时间，所以该方法一般在样本量较小时才适合使用。
乘积限估计法列表：

|Time|$q_t$|$1-q_t$|$\widehat{S}(t)$|
|---|---|---|---|
|0|0.0000|1.0000|1.0000|
|2|0.0833|0.9167|0.9167|
"Time"一列表示失败发生的精确时间，比如上表的第二列“2”表示在第二个月时有患者死亡；
第二列$q_t$表示在这个时间之前还存活的人，在这个时间点死亡的比例；
第三列则表示在这个时间之前还存活的人，在这个时间点没有死亡的比例；
和寿命表法类似：
$$\widehat{S}(t)=\widehat{S}(t-1)(1-q_t)$$

### 时序检验(The Log-Rank Test)
Our goal is to determine whether survival differs systematically between the groups
方法一：如果要比较的两组中均没有删失观察值，那么可以采用Wilcoxon秩和检验比较两组的中位生存时间
方法二：如果有删失观察值，则采用时序检验
时序检验：
在每个有死亡发生的时间点，列一个四格表，然后用 Mantel-Haenszel test

## Sampling Theory

### 一种降低回答不真实的方法：
随机化策略
简单来说，我们事先先指定一批人，让他们总是回答yes或者no。比如，我们可以同时掷三枚硬币，如果三枚硬币全正面朝上，那么总是回答yes，全反面，则总是回答no；不一致则回答真实情况。
我们假定总人数为n，其中$n*a$的人要求必须回答yes，剩下的人要求说真话；假设剩下的说真话的人回答yes的比例是$\pi$
那么总共有：
$$n^*=na+n(1-a)\pi$$
的人回答yes
$$n^*-na=n(1-a)\pi$$
$$\pi=\frac{(n^*/n)-a}{1-a}$$

[^1]Gauvreau, Kimberlee_ Pagano, Marcello - Principles of biostatistics-CRC Press (2018), page 27
[^2]:Gauvreau, Kimberlee_ Pagano, Marcello - Principles of biostatistics-CRC Press (2018), page 512